---
title: Michael Firmin
---
<!DOCTYPE html>
<html>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>GLSL Raytracer</title>

    <link rel="stylesheet" type="text/css" href="css/raytracer.css">
    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <script type="text/javascript" src="static/lib/three.min.js"></script>
    <script type="text/javascript" src="static/lib/TrackballControls.js"></script>
    <script src="static/raytracer.js"></script>
    <script>
        $(document).ready(function() {

            var t = 0;
            var lightPos = [0,3,0];

            var rt = new Raytracer.Raytracer(lightPos, 0.6, .4);
            var s1 = new Raytracer.primitives.Sphere([-0,-0,+0], 2, [0,0,0], 'GLASS', undefined, [1.0, 32.]);
            var s2 = new Raytracer.primitives.Sphere([2,-4,2], 1, [.3,.3,.3], 'MIRROR', undefined, [.1, 8.]);

            var A = [-5,-5,+5];
            var B = [+5,-5,+5];
            var C = [+5,-5,-5];
            var D = [-5,-5,-5];

            var E = [-5,+5,+5];
            var F = [+5,+5,+5];
            var G = [+5,+5,-5];
            var H = [-5,+5,-5];

            var back1 = new Raytracer.primitives.Triangle(D, C, G, [.7, .6, .1]);
            var back2 = new Raytracer.primitives.Triangle(D, G, H, [.7, .6, .1]);

            var left1 = new Raytracer.primitives.Triangle(A, D, H, [.8, .2, .3]);
            var left2 = new Raytracer.primitives.Triangle(A, H, E, [.8, .2, .3]);

            var right1 = new Raytracer.primitives.Triangle(C, B, F, [.3, .3, .7]);
            var right2 = new Raytracer.primitives.Triangle(C, F, G, [.3, .3, .7]);

            var bottom1 = new Raytracer.primitives.Triangle(A, B, C, [0.6,0.6,0.6]);
            var bottom2 = new Raytracer.primitives.Triangle(A, C, D, [0.6,0.6,0.6]);

            var top1 = new Raytracer.primitives.Triangle(F, E, H, [0.8,0.8,0.8], undefined, undefined, [1, 64]);
            var top2 = new Raytracer.primitives.Triangle(F, H, G, [0.8,0.8,0.8], undefined, undefined, [1, 64]);

            var front1 = new Raytracer.primitives.Triangle(B, A, E, [.1, .7, .3]);
            var front2 = new Raytracer.primitives.Triangle(B, E, F, [.1, .7, .3]);

            var c1 = [-3.5,-4.5,+3.0];
            var c2 = [-3.0,-4.5,+3.0];
            var c3 = [-3.0,-4.5,+3.5];
            var c4 = [-3.5,-4.5,+3.5];

            var c5 = [-3.5,-5,+3.0];
            var c6 = [-3.0,-5,+3.0];
            var c7 = [-3.0,-5,+3.5];
            var c8 = [-3.5,-5,+3.5];

            var box_color = [0.7,0.3,0.6];

            var cback1= new Raytracer.primitives.Triangle(c4, c7, c3, box_color, 'NORMAL');
            var cback2 = new Raytracer.primitives.Triangle(c4, c8, c7, box_color, 'NORMAL');

            var cleft1 = new Raytracer.primitives.Triangle(c1, c8, c4, box_color, 'NORMAL');
            var cleft2 = new Raytracer.primitives.Triangle(c1, c5, c8, box_color, 'NORMAL');

            var cright1 = new Raytracer.primitives.Triangle(c3, c6, c2, box_color, 'NORMAL');
            var cright2 = new Raytracer.primitives.Triangle(c3, c7, c6, box_color, 'NORMAL');

            var ctop1 = new Raytracer.primitives.Triangle(c2, c4, c3, box_color, 'NORMAL');
            var ctop2 = new Raytracer.primitives.Triangle(c1, c4, c2, box_color, 'NORMAL');

            var cfront1 = new Raytracer.primitives.Triangle(c2, c5, c1, box_color, 'NORMAL');
            var cfront2 = new Raytracer.primitives.Triangle(c2, c6, c5, box_color, 'NORMAL');

            rt.add(s1);
            rt.add(s2);

            rt.add(back1);
            rt.add(back2);
            rt.add(left1);
            rt.add(left2);
            rt.add(right1);
            rt.add(right2);

            rt.add(bottom1);
            rt.add(bottom2);

            rt.add(top1);
            rt.add(top2);

            rt.add(front1);
            rt.add(front2);

            rt.add(cback1);
            rt.add(cback2);
            rt.add(cleft1);
            rt.add(cleft2);
            rt.add(cright1);
            rt.add(cright2);

            rt.add(ctop1);
            rt.add(ctop2);

            rt.add(cfront1);
            rt.add(cfront2);

            rt.go();

            window.rt = rt;
            window.s1 = s1;

            setInterval(function() {
                lightPos = [4*Math.sin(t),0,4*Math.cos(t)];
                rt.lightPosition = lightPos;
                t += 0.02;
            }, 1000/30);
        });
    </script>
    </head>
<body>
    <div id='main'>
        <div id='raytracer'></div>
    </div>
</body>
</html>
